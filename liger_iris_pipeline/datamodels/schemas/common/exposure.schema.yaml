%YAML 1.1
---
$schema: "http://stsci.edu/schemas/fits-schema/fits-schema"
id: "https://oirlab.github.io/schemas/exposure.schema"
type: object
properties:
  meta:
    type: object
    properties:
      exposure:
        title: "Exposure information"
        type: object
        properties:
          type:
            title: Type of data in the exposure  # NOTE: This may drive a lot of the pipeline logic
            type: string
            fits_keyword: IMTYPE
            blend_table: True
          start_jd:
            title: "Exposure start time in MJD"
            type: number
            fits_keyword: EXPSTJD
            blend_table: True
            blend_rule: min
          mid_jd:
            title: "Exposure mid time in MJD"
            type: number
            fits_keyword: EXPMIDJD
            blend_table: True
            blend_rule: mean
          end_jd:
            title: "Exposure end time in MJD"
            type: number
            fits_keyword: EXPENDJD
            blend_table: True
            blend_rule: max
          start_date:
            title: "Exposure start date in YYYYMMDD"
            type: number
            fits_keyword: EXPSTDT
            blend_table: True
            blend_rule: min
          mid_date:
            title: "Exposure mid date in YYYYMMDD"
            type: number
            fits_keyword: EXPMIDDT
            blend_table: True
            blend_rule: mean
          end_date:
            title: "Exposure end date in YYYYMMDD"
            type: number
            fits_keyword: EXPENDDT
            blend_table: True
            blend_rule: max
          start_time:
            title: "Exposure start time in hh:mm:ss.ss"
            type: number
            fits_keyword: EXPSTTM
            blend_table: True
            blend_rule: min
          mid_time:
            title: "Exposure mid time in hh:mm:ss.ss"
            type: number
            fits_keyword: EXPMIDTM
            blend_table: True
            blend_rule: mean
          end_time:
            title: "Exposure end time in hh:mm:ss.ss"
            type: number
            fits_keyword: EXPENDTM
            blend_table: True
            blend_rule: max
          readmode:
            title: Readout mode
            type: string
            fits_keyword: READMODE
            blend_table: True
          nints:
            title: Number of integrations in exposure
            type: integer
            fits_keyword: NINTS
            blend_table: True
          integration_start:
            title: Starting integration number in this segment
            type: integer
            fits_keyword: INTSTART
            blend_table: True
            blend_rule: min
          integration_end:
            title: Ending integration number in this segment
            type: integer
            fits_keyword: INTEND
            blend_table: True
            blend_rule: max
          ngroups:
            title: Number of groups in integration
            type: integer
            fits_keyword: NGROUPS
            blend_table: True
          nframes:
            title: Number of frames per group
            type: integer
            fits_keyword: NFRAMES
            blend_table: True
          nsamples:
            title: Number of A/D samples per pixel
            type: integer
            fits_keyword: NSAMPLES
            blend_table: True
          sample_time:
            title: "[us] Time between samples"
            type: number
            fits_keyword: TSAMPLE
            blend_table: True
          frame_time:
            title: "[s] Time between frames"
            type: number
            fits_keyword: TFRAME
            blend_table: True
          group_time:
            title: "[s] Time between groups"
            type: number
            fits_keyword: TGROUP
            blend_table: True
          integration_time:
            title: "[s] Effective integration time"
            type: number
            fits_keyword: EFFINTTM
            blend_table: True
          exposure_time:
            title: "[s] Effective exposure time"
            type: number
            fits_keyword: EFFEXPTM
            blend_rule: sum
            blend_table: True
          effective_exposure_time:
            title: "[s] Effective exposure time"
            type: number
            fits_keyword: XPOSURE
            blend_rule: sum
            blend_table: True
          duration:
            title: "[s] Total duration of exposure"
            type: number
            fits_keyword: DURATION
            blend_rule: sum
            blend_table: True
          elapsed_exposure_time:
            title: "[s] Total elapsed exposure time"
            type: number
            fits_keyword: TELAPSE
            blend_rule: sum
            blend_table: True
          nresets_at_start:
            title: Number of resets at start of exposure
            type: integer
            fits_keyword: NRSTSTRT
            blend_table: True
          nresets_between_ints:
            title: Number of resets between integrations
            type: integer
            fits_keyword: NRESETS
            blend_table: True
          data_problem:
            title: Science telemetry indicated a problem
            type: boolean
            fits_keyword: DATAPROB
            blend_table: True
          number:
            title: Exposure number in a sequence
            type: integer
            fits_keyword: EXPNUM
            blend_table: True
          sequence_tot:
            title: Total in this sequence
            type: integer
            fits_keyword: EXPSQTOT
            blend_table: True